# Про автоматизированные тесты с примерами

## Для кого этот материал

Этот материал, в первую очередь, я пишу для своих коллег - разработчиков ПО для
платформы 1С:Предприятие. К сожалению, современные методики и технологии
разработки ПО не развиты в сфере разработки 1С. Основных причин этого на мой
взгляд две, первая носит технологический характер и связана с ограничениями
платформы 1С:Предприятие, вторая причина это человеческий фактор, а точнее
профессиональный уровень программистов 1С. Считается, что платформа 1С хороша
тем, что в разработку на ней очень низкий порог вхождения. Это обстоятельство,
в определённый момент, становится негативным фактором тормозящим развитие
проекта.

## Введение

В ходе изучения темы мы разработаем программную модель, сферической кофе-машины
в вакууме, используя TDD или BDD (называйте как хотите) методику разработки
программного обеспечения.

Целью данной работы является показать на примере, как автор понимает разработку
ведомую тестированием, что такое модульные (unit) тесты. Как можно формально
описать требования и превратить это формальное описание в исполняемую программу
проверяющую соответсвие реализации или другими словами программу которую можно
назвать функциональным тестом или тестом покрытия требований или
приёмо-сдаточным тестом, здесь терминология тоже на ваш вкус.

В процессе мы увидим в чем принципиальная разница между модульными тестами и
тестами покрывающими требования, что значит изоляция в модульных тестах и какую
пользу она приносит. Более того, присмотревшись внимательнее, мы увидим и, так
называемые, интеграционные тесты, хотя эта группа тестов не будет выделена в
явном виде.

Сперва мы сформулируем требования к нашей машине, опишем эти требования
формальным языком [Gherkin](https://docs.cucumber.io/gherkin/). Далее мы
реализуем кофе-машину на двух языках программирования, на языке программирования
[Ruby](https://www.ruby-lang.org/ru/) и на платформе 1С:Предприятие.

Зачем нам реализация на Ryby?
Реализация нашей кофе-машины на языке Ruby даст нам понимание, что такое
модульные тесты и как они должны выглядеть по "феншуй", со всеми этими
изоляциями тестов, mock-ами, stab-ами и прочими, малопонятными, при теоретическом
изучении темы тестирования, штуками которые не доступны для платформы
1С:Предприятие. Кроме того, Ruby просто очень клёвый язык, программирование
на котором действительно доставляет удовольствие.

В нашей работе мы будем использовать инструменты тестирования
[cucumber](https://cucumber.io/), [minitest](https://rubygems.org/gems/minitest/)
и стек инструментов для разработки на платформе 1С:Предприятие
[Ruby powered workflow](https://github.com/leoniv/ruby_powered_workflow)
